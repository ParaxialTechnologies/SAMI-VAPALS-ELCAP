!function(e,t){typeof exports==='object'&&typeof module!=='undefined'?module.exports=t():typeof define==='function'&&define.amd?define(t):(e=e||self, (e.FormValidation=e.FormValidation||{}, e.FormValidation.plugins=e.FormValidation.plugins||{}, e.FormValidation.plugins.StartEndDate=t()))}(this,function(){"use strict";function e(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function t(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1;i.configurable=!0;"value" in i&&(i.writable=!0);Object.defineProperty(e,i.key,i)}}function a(e,a,i){a&&t(e.prototype,a);i&&t(e,i);return e}function i(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}function n(e){n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return n(e)}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function o(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return l(e)}var r=FormValidation.Plugin,s=function(t){i(d,t);function d(t){var a;e(this,d);a=o(this,n(d).call(this,t));a.fieldValidHandler=a.onFieldValid.bind(l(a));a.fieldInvalidHandler=a.onFieldInvalid.bind(l(a));return a}a(d,[{key:"install",value:function(){var e=this,t=this.core.getFields();this.startDateFieldOptions=t[this.opts.startDate.field];this.endDateFieldOptions=t[this.opts.endDate.field];var a=this.core.getFormElement();this.core.on('core.field.valid',this.fieldValidHandler).on('core.field.invalid',this.fieldInvalidHandler).addField(this.opts.startDate.field,{validators:{date:{format:this.opts.format,max:function(){var t=a.querySelector("[name=\"".concat(e.opts.endDate.field,"\"]"));return t.value},message:this.opts.startDate.message}}}).addField(this.opts.endDate.field,{validators:{date:{format:this.opts.format,message:this.opts.endDate.message,min:function(){var t=a.querySelector("[name=\"".concat(e.opts.startDate.field,"\"]"));return t.value}}}})}},{key:"uninstall",value:function(){this.core.removeField(this.opts.startDate.field);this.startDateFieldOptions&&this.core.addField(this.opts.startDate.field,this.startDateFieldOptions);this.core.removeField(this.opts.endDate.field);this.endDateFieldOptions&&this.core.addField(this.opts.endDate.field,this.endDateFieldOptions);this.core.off('core.field.valid',this.fieldValidHandler).off('core.field.invalid',this.fieldInvalidHandler)}},{key:"onFieldInvalid",value:function(e){switch(e){case this.opts.startDate.field:this.startDateValid=!1;break;case this.opts.endDate.field:this.endDateValid=!1;break;default:break}}},{key:"onFieldValid",value:function(e){switch(e){case this.opts.startDate.field:this.startDateValid=!0;this.endDateValid===!1&&this.core.revalidateField(this.opts.endDate.field);break;case this.opts.endDate.field:this.endDateValid=!0;this.startDateValid===!1&&this.core.revalidateField(this.opts.startDate.field);break;default:break}}}]);return d}(r);return s})